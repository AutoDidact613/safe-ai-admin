# תהליך עבודה עם Git למפתחות מתחילות (Start → Finish)

המטרה של המסמך: לעבוד מסודר, להימנע מהפתעות, ולוודא שהקוד שלך עובר בבדיקות לפני Pull Request.

> הכללים כאן מניחים שהענף הראשי נקרא `main` ושעובדים מול ריפו מרוחק בשם `origin`.

---

## חלק א׳ — כשמתחילים לפתח (Start Development)

### 1) לוודא שאת נמצאת על `main`
```bash
git switch main
# או:
# git checkout main
```

### 2) למשוך שינויים מה־`main` המרוחק (להיות מעודכנת)
```bash
git pull origin main
```

> למה זה חשוב? כדי להתחיל פיתוח מתוך הגרסה הכי עדכנית, ולהקטין סיכוי לקונפליקטים.

### 3) ליצור בראנץ׳ חדש לעבודה שלך
פורמט מומלץ:
- `feature/...` לפיצ׳ר חדש  
- `fix/...` לתיקון באג  
- `docs/...` לתיעוד  

```bash
git switch -c feature/<short-description>
```

דוגמה:
```bash
git switch -c feature/login-form
```

### 4) לעבוד מקומית: לערוך קוד, להריץ, לבדוק תוך כדי
- כותבת את השינויים במחשב שלך
- מריצה את הפרויקט כשצריך כדי לראות שזה עובד
- מתקנת מהר בעיות תוך כדי

### 5) קומיטים קטנים — בסיום כל משימה קטנה
כל משימה קטנה = קומיט אחד ברור.

בדיקה מה השתנה:
```bash
git status
git diff
```

הוספה ל־stage:
```bash
git add .
# או להוסיף קבצים ספציפיים:
# git add path/to/file
```

קומיט:
```bash
git commit -m "feat: add login validation"
```

> טיפ: אל תשאירי הכל לקומיט אחד ענק בסוף.

---

## חלק ב׳ — כשמסיימים פיתוח ורוצים Pull Request (Finish → PR)

המטרה: לפני PR את מיישרת קו עם `main`, פותרת קונפליקטים אם צריך, מריצה בדיקות מקומיות, ורק אז עושה push ופותחת PR.

### 1) לשמור שהכול מקומי נקי (שאין קבצים לא שמורים/לא מקומטים)
```bash
git status
```
אמור להופיע:
- `working tree clean`

אם יש שינויים פתוחים:
- או שמבצעים קומיט
- או `git stash` (רק אם חייבים)

### 2) לעדכן את `main` מהמרוחק
לעבור ל־`main`:
```bash
git switch main
```

למשוך עדכונים:
```bash
git pull origin main
```

### 3) לחזור לבראנץ׳ שלך
```bash
git switch feature/<short-description>
```

### 4) למזג את `main` לתוך הבראנץ׳ שלך (Merge)
```bash
git merge main
```

#### אם אין קונפליקטים
ה־merge יסתיים, ואת מוכנה לשלב הבדיקות המקומיות.

#### אם יש קונפליקטים (Conflicts)
Git יעצור ויגיד באילו קבצים יש קונפליקט.

**איך פותרים:**
1. לפתוח את הקבצים עם הקונפליקט ולחפש סימונים כמו:
   - `<<<<<<<`
   - `=======`
   - `>>>>>>>`
2. לבחור מה להשאיר/לשלב (ולמחוק את הסימונים)
3. לסמן כפתור:
```bash
git add .
```
4. לסיים את ה־merge עם קומיט:
```bash
git commit
```

> טיפ: אחרי פתרון קונפליקטים תמיד להריץ את הפרויקט ולבדוק ידנית.

---

## 5) שלב חובה לפני PR — בדיקות מקומיות (Local Verification)

**חשוב מאוד:** בשלב הזה עדיין לא עושים `push` ועדיין לא פותחים PR.  
קודם מוודאים שהכול עובד כשהבראנץ׳ שלך מעודכן וממוזג עם `main`.

מה עושים בפועל:
- להריץ בדיקות (אם יש)
- להריץ build (אם יש)
- להריץ את הפרויקט ולנסות:
  - את הפיצ׳ר החדש
  - וגם דברים ישנים (רגישים במיוחד: התחברות, ניווט, API, מסכים מרכזיים)

דוגמאות כלליות (לבחרי מה רלוונטי לפרויקט שלך):
```bash
npm test
npm run lint
npm run build
npm run dev
```

או בפייתון (לפי מה שיש בפרויקט):
```bash
pytest
ruff check .
python -m unittest
```

---

## 6) רק אחרי שהכול עובד — Push ו־Pull Request

### push לבראנץ׳ המרוחק
```bash
git push -u origin feature/<short-description>
```

### פתיחת Pull Request
- לפתוח PR מהבראנץ׳ שלך אל `main`
- למלא תיאור PR:
  - מה השתנה
  - איך לבדוק
  - תמונות/וידאו אם יש UI
- לוודא ש־CI ירוק
- לבקש review

---

## צ׳ק-ליסט קצר (לגזור ולהדביק)

### Start
- [ ] `git switch main`
- [ ] `git pull origin main`
- [ ] `git switch -c feature/...`
- [ ] קומיטים קטנים לאורך הדרך

### Finish → PR
- [ ] `git status` נקי
- [ ] `git switch main`
- [ ] `git pull origin main`
- [ ] `git switch feature/...`
- [ ] `git merge main`
- [ ] לפתור קונפליקטים אם צריך
- [ ] להריץ בדיקות מקומיות + הרצת פרויקט ובדיקות ידניות
- [ ] `git push -u origin feature/...`
- [ ] לפתוח PR ל־`main`

---

בהצלחה! 👩‍💻
